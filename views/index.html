<!DOCTYPE html>
<html lang="en">
<head>
	{{ template "header"}}
	<style type="text/css">
	.table tbody tr td{
		color:red;
	}
	</style>
</head>


<body class="page-body  page-fade" >

<div class="page-container"><!-- add class "sidebar-collapsed" to close sidebar by default, "chat-visible" to make chat appear always -->
	
	{{ template "navigator" .role}}

	<div class="main-content">
		{{ template "content-header" .username}}
		<div class="row">
			<div class="col-sm-3 col-xs-6">
		
				<div class="tile-stats tile-red">
					<div class="icon"><i class="entypo-users"></i></div>
					<div class="num" id="newMsgNum">3</div>
		
					<h3>New Messages</h3>
					<p>message nums need attentions.</p>
				</div>
		
			</div>
		
			<div class="col-sm-3 col-xs-6">
		
				<div class="tile-stats tile-green">
					<div class="icon"><i class="entypo-chart-bar"></i></div>
					<div class="num" id="ctccNum">0</div>
		
					<h3>CTCC Process State</h3>
					<p>nums in ctcc table since login .</p>
				</div>
		
			</div>
		
			<div class="col-sm-3 col-xs-6">
		
				<div class="tile-stats tile-aqua">
					<div class="icon"><i class="entypo-mail"></i></div>
					<div class="num" id="protocalNum">0</div>
		
					<h3>Protocal Process State</h3>
					<p>nums in protocal table since login.</p>
				</div>
		
			</div>
		
			<div class="col-sm-3 col-xs-6">
		
				<div class="tile-stats tile-blue">
					<div class="icon"><i class="entypo-rss"></i></div>
					<div class="num" id="nonRealNum">0</div>
		
					<h3>File Send State</h3>
					<p>nums in non-real  since login.</p>
				</div>
		
			</div>
		</div>
	
		<br />
		
		<div class="row" > 
		
			<div class="col-sm-12">
		
				<div class="panel panel-primary" style="overflow:scroll;  height:250px;text-overflow: ellipsis;white-space: nowrap;">
					<div class="panel-heading">
						<div class="panel-title">New Messages</div>
					</div>
		
					<table class="table table-bordered table-responsive">
						<thead>
							<tr>
								<th>Time</th>
								<th>Message Summary</th>
							</tr>
						</thead>
						<tbody id="newMSg_tbody">
							<tr id="ctccRow">
								<td></td>
								<td>ping CTCC........</td>
							</tr>
							<tr id="protocalRow">
								<td></td>
								<td>ping Proctocal........</td>
							</tr>
							<tr id="NonRealRow">
								<td></td>
								<td>ping Non Real........</td>
							</tr>
						</tbody>
					</table>
				</div>
		
			</div>
		
		</div>
		
		<br />
		
		<div class="row" >
		
			<div class="col-sm-12">
		
				<div class="panel panel-primary" style="overflow:scroll; height:350px;text-overflow: ellipsis;white-space: nowrap;">
					<div class="panel-heading">
						<div class="panel-title">CTCC Process State</div>
					</div>
					<table id="ctcc_tb" class="table table-bordered table-responsive  " >
						<thead>
							<tr class="replace-inputs" style="display:none;">
								<th style="width: 190px;"></th>
								<th style="width: 240px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 110px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 150px;"></th>
								<th style="width: 150px;"></th>
								<th style="width: 180px;"></th>
								<th style="width: 180px;"></th>
								<th style="width: 180px;"></th>
								<th style="width: 180px;"></th>
								<th style="width: 140px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 170px;"></th>
								<th style="width: 170px;"></th>
								<th style="width: 170px;"></th>
								<th style="width: 170px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 150px;"></th>
								<th style="width: 150px;"></th>
								<th style="width: 160px;"></th>
								<th style="width: 180px;"></th>
								<th style="width: 190px;"></th>								
								{{if .role}}
								<th style="width: 100px;" ></th>
								{{else}}
								<th style="width: 100px;display:none;" ></th>
								{{end}}	
							</tr>
							<tr>
								<th style="width: 190px;">更新时间</th>
								<th style="width: 240px;">MsgType</th>
								<th style="width: 120px;">ProcessId</th>
								<th style="width: 110px;">SysId</th>
								<th style="width: 120px;">Pattern</th>
								<th style="width: 120px;">Channel</th>
								<th style="width: 120px;">IsSend32KB</th>
								<th style="width: 120px;">IsSendIPinIP</th>
								<th style="width: 120px;">IsSaveFile</th>
								<th style="width: 120px;">IsArchive</th>
								<th style="width: 150px;">ResendShmHead</th>
								<th style="width: 150px;">ResendShmTear</th>
								<th style="width: 180px;">ResendWriteShmLoop</th>
								<th style="width: 180px;">ResendReadShmLoop</th>
								<th style="width: 180px;">ResendWriteShmSpeed</th>
								<th style="width: 180px;">ResendReadShmSpeed</th>
								<th style="width: 140px;">SaveShmHead</th>
								<th style="width: 120px;">SaveShmTear</th>
								<th style="width: 170px;">SaveWriteShmLoop</th>
								<th style="width: 170px;">SaveReadShmLoop</th>
								<th style="width: 170px;">SaveWriteShmSpeed</th>
								<th style="width: 170px;">SaveReadShmSpeed</th>
								<th style="width: 120px;" >RecvBeats</th>
								<th style="width: 120px;">ResendBeats</th>
								<th style="width: 120px;">SaveBeats</th>
								<th style="width: 150px;">RecvBytes</th>
								<th style="width: 150px;">Send32KFrames</th>
								<th style="width: 160px;" >SendIPinIPFrames</th>
								<th style="width: 180px;">SendSmallCraftFrames</th>
								<th style="width: 190px;">TimeStamp</th>
								{{if .role}}
								<th style="width: 100px;">操作</th>
								{{else}}
								<th style="display:none;width: 100px;">操作</th>
								{{end}}
							</tr>
						</thead>		
						<tbody id="ctcc_tbody">
						{{ range .ctcc_table_date }}
						<tr>
						<td>{{ .UpDateTime }}</td>
						<td>{{ .MsgType }}</td>
						<td>{{ .ProcessID }}</td>
						<td>{{ .SysID }}</td>
						<td>{{ .Pattern }}</td>
						<td>{{ .Channel }}</td>
						<td>{{ .IsSend32KB }}</td>
						<td>{{ .IsSendIPinIP }}</td>
						<td>{{ .IsSaveFile }}</td>
						<td>{{ .IsArchive }}</td>
						<td>{{ .ResendShmHead }}</td>
						<td>{{ .ResendShmTear }}</td>
						<td>{{ .ResendWriteShmLoop }}</td>
						<td>{{ .ResendReadShmLoop }}</td>
						<td>{{ .ResendWriteShmSpeed }}</td>
						<td>{{ .ResendReadShmSpeed }}</td>
						<td>{{ .SaveShmHead }}</td>
						<td>{{ .SaveShmTear }}</td>
						<td>{{ .SaveWriteShmLoop }}</td>
						<td>{{ .SaveReadShmLoop }}</td>
						<td>{{ .SaveWriteShmSpeed }}</td>
						<td>{{ .SaveReadShmSpeed }}</td>
						<td>{{ .RecvBeats }}</td>
						<td>{{ .ResendBeats }}</td>
						<td>{{ .SaveBeats }}</td>
						<td>{{ .RecvBytes }}</td>
						<td>{{ .Send32KFrames }}</td>
						<td>{{ .SendIPinIPFrames }}</td>
						<td>{{ .SendSmallCraftFrames }}</td>
						<td>{{ .TimeStamp }}</td>
						<td ><a href="/ctcc/commandpage?MsgType={{ .MsgType }}&SysId={{ .SysID }}&Pattern={{ .Pattern }}&Channel={{ .Channel }}" target="_blank" style="color:red;">发送命令</a></td> 
						</tr>
						{{ end }}
						</tbody>
					</table>
				</div>
		
			</div>
		
		</div>
		
		<br />
		<div class="row" >
		
			<div class="col-sm-12" >
		
				<div class="panel panel-primary" style="overflow:scroll;  height:350px;text-overflow: ellipsis;white-space: nowrap;">
					<div class="panel-heading">
						<div class="panel-title">Protocal Process State</div>
					</div>
					<table id="protocal_tb" class="table table-bordered table-responsive  " >
						<thead>
							<tr class="replace-inputs" style="display:none;">
								<th style="width: 190px;"></th>
								<th style="width: 190px;"></th>
								<th style="width: 110px;"></th>
								<th style="width: 110px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 140px;"></th>
								<th style="width: 200px;"></th>
								<th style="width: 180px;"></th>
								<th style="width: 140px;"></th>
								<th style="width: 150px;"></th>
								<th style="width: 170px;"></th>
								<th style="width: 180px;"></th>
								<th style="width: 180px;"></th>
								<th style="width: 180px;"></th>
								<th style="width: 180px;"></th>
								<th style="width: 140px;"></th>	
								{{if .role}}		
								<th style="width: 100px;"></th>		
								{{else}}	
								<th style="width: 100px;display:none;"></th>	
								{{end}}				
							</tr>
							<tr>
								<th  style="width: 190px;">更新时间</td>
								<th style="width: 190px;">MsgType</th>
								<th style="width: 110px;">ID</th>
								<th style="width: 110px;">MID</th>
								<th style="width: 120px;">BID</th>
								<th style="width: 120px;">PID</th>
								<th style="width: 140px;">MainOrBackup</th>
								<th style="width: 200px;">ProcessName</th>
								<th style="width: 180px;">Report_type</th>
								<th style="width: 140px;">Command_type</th>
								<th style="width: 150px;">Command_result</th>
								<th style="width: 170px;">Recv_status_revert</th>
								<th  style="width: 180px;">Recv_status</th>
								<th style="width: 180px;">First</th>
								<th style="width: 180px;">Last</th>
								<th style="width: 180px;">Recv_count</th>
								<th style="width: 140px;">Send_no</th>	
								{{if .role}}
								<th id="protocal_head_op" style="width: 100px;">操作</th>
								{{else}}
								<th id="protocal_head_op" style="display:none;width: 100px;">操作</th>
								{{end}}												
							</tr>
						</thead>		
						<tbody id="protocal_tbody">
							{{ range .protocal_table_date }}
				<tr>
					<td>{{ .UpDateTime }}</td>
					<td>{{ .MsgType }}</td>
					<td>{{ .ID }}</td>
					<td>{{ .MID }}</td>
					<td>{{ .BID }}</td>
					<td>{{ .PID }}</td>
					<td>{{ .MainOrBackup }}</td>
					<td>{{ .ProcessName }}</td>
					<td>{{ .ReportType }}</td>
					<td>{{ .CommandType }}</td>
					<td>{{ .CommandResult }}</td>
					<td>{{ .RecvStatusRevert }}</td>
					<td>{{ .RecvStatus }}</td>
					<td>{{ .First }}</td>
					<td>{{ .Last }}</td>
					<td>{{ .RecvCount }}</td>
					<td>{{ .SendNo }}</td>
					<td><a href="/protocal/commandpage?MsgType={{ .MsgType }}&ID={{ .ID }}&MID={{ .MID }}&BID={{ .BID }}&ProcessName={{ .ProcessName }}" target="_blank" style="color:red;">发送命令</a></td>  
				</tr>
			{{ end }}
						</tbody>
					</table>
				</div>
		
			</div>
		
		</div>
		
		<br />
		<div class="row" >
		
			<div class="col-sm-12" > 	
		
				<div class="panel panel-primary" style="overflow:scroll; height:350px;text-overflow: ellipsis;white-space: nowrap;">
					<div class="panel-heading">
						<div class="panel-title">File Send State</div>
					</div>
					<table id="nonreal_tb" class="table table-bordered table-responsive  " >
						<thead>
							<tr class="replace-inputs"  style="display:none;">
								<th style="width: 190px;"></th>
								<th style="width: 140px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 110px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 200px;"></th>
								<th style="width: 120px;"></th>
								<th style="width: 140px;"></th>
								<th style="width: 150px;"></th>
								<th style="width: 150px;"></th>
								<th style="width: 180px;"></th>
								<th style="width: 180px;"></th>	
								{{if .role}}	
								<th style="width: 100px;"></th>	
								{{else}}	
								<th style="width: 100px;display:none;"></th>		
								{{end}}			
							</tr>
							<tr>
								<th  style="width: 190px;">更新时间</td>
								<th style="width: 140px;">MsgTag</th>
								<th style="width: 120px;">MsgType</th>
								<th style="width: 110px;">MissionID</th>
								<th style="width: 120px;">Subtype</th>
								<th style="width: 120px;">MSGID</th>
								<th style="width: 120px;">Sender</th>
								<th  style="width: 200px;">Timestamp</th>
								<th style="width: 120px;">Type</th>
								<th style="width: 140px;">SendSessionID</th>
								<th  style="width: 150px;">FileName</th>
								<th style="width: 150px;">FilePath</th>
								<th style="width: 180px;">Status</th>
								<th style="width: 180px;">Station</th>
								{{if .role}}
								<th style="width: 100px;">操作</th>
								{{else}}
								<th style="display:none;width: 100px;">操作</th>
								{{end}}	
							</tr>
						</thead>		
						<tbody id="nonreal_tbody">
							{{ range .nonreal_table_date }}
							<tr>
							<td>{{ .UpDateTime }}</td>
							<td>{{ .MsgTag }}</td>
							<td>{{ .MsgType }}</td>
							<td>{{ .MissionID }}</td>
							<td>{{ .Subtype }}</td>
							<td>{{ .MSGID }}</td>
							<td>{{ .Sender }}</td>
							<td>{{ .Timestamp }}</td>
							<td>{{ .Type }}</td>
							<td>{{ .SendSessionID }}</td>
							<td>{{ .FileName }}</td>
							<td>{{ .FilePath }}</td>
							<td>{{ .Status }}</td>
							<td>{{ .Station }}</td>
							<td><a href="/non_real/commandpage?MsgTag={{ .MsgTag }}&MsgType={{ .MsgType }}&MissionID={{ .MissionID }}&Subtype={{ .Subtype }}&MSGID={{ .MSGID }}&Sender={{ .Sender }}&SendSessionID={{ .SendSessionID }}" target="_blank" style="color:red;">发送命令</a></td>  
							</tr>
							{{ end }} 
						</tbody>
					</table>
				</div>
		
			</div>
		
		</div>
	
	</div>
	{{ template "websocket"}}
	<script src="/public/assets/js/self/monitor_updatetable.js"></script>
	{{ template "bottom"}}
	
</body>
</html>